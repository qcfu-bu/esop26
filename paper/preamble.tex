\usepackage{trimclip}
\usepackage{graphicx}
\usepackage{float}
\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{
  positioning,
  automata,
  shapes.geometric,
  arrows,
  arrows.meta,
  trees
}
\usepackage{mathpartir}
\usepackage{xcolor}
\usepackage{listings}
\usepackage[scaled=1.0]{beramono}
\usepackage{bm}
\usepackage[utf8x]{inputenc}
\usepackage[page,header]{appendix}
\usepackage{titletoc}
\usepackage{cleveref}
\usepackage{soul}
\newtheorem*{remark}{Remark}

\tikzstyle{startstop} = [rectangle, minimum width=0.6cm, minimum height=0.8cm, text centered, draw=black]
\tikzstyle{process}   = [rectangle, minimum width=0.6cm, minimum height=0.8cm, text centered, text width=2.2cm, draw=black]
\tikzstyle{arrow}     = [thick,->,>=stealth]

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{eminence}{RGB}{108,48,130}

\lstdefinelanguage{tll}{
  emph={program, logical, theorem, def, inductive, where},
  morekeywords={let, let*, in, match, as, with, if, then, else, fork, fun, ln, fn},
  extendedchars=true, 
  alsoletter=*,
  morecomment=[l]{--},
  emphstyle=\color{blue},
  keywordstyle=\color{eminence},
  commentstyle=\color{codegreen},
  basicstyle=\footnotesize\ttfamily,
}

\lstnewenvironment{tllisting}{
\lstset{
  language=tll,
  basicstyle=\scriptsize\ttfamily,
  extendedchars=true,
  mathescape=true,
}}{}

\newcommand{\TODO}{\textbf{\textcolor{red}{TODO}}}

\newcommand{\mcA}{\mathcal{A}}
\newcommand{\mcF}{\mathcal{F}}
\newcommand{\mcP}{\mathcal{P}}
\newcommand{\mcE}{\mathcal{E}}
\newcommand{\mcM}{\mathcal{M}}
\newcommand{\mcK}{\mathcal{K}}
\newcommand{\mcC}{\mathcal{C}}
\newcommand{\mcH}{\mathcal{H}}
\newcommand{\TLLC}{TLL$_{\mathcal{C}}$}
\newcommand{\LNLD}{LNL$_{D}$}
\newcommand{\tllst}[1]{\lstinline[mathescape,language=tll]!#1!}
\newcommand{\prog}[1]{{\texttt{\footnotesize{#1}}}}
\newcommand{\progscript}[1]{{\texttt{\scriptsize{#1}}}}
\newcommand{\progtiny}[1]{{\texttt{\tiny{#1}}}}
\newcommand{\flq}{\texttt{\guilsinglleft}}
\newcommand{\frq}{\texttt{\guilsinglright}}
\newcommand{\Langle}{{\bm\langle}}
\newcommand{\Rangle}{{\bm\rangle}}
\newcommand{\leadstoP}{\leadsto_{p}}
\newcommand{\conv}[2]{{#1}\simeq{#2}}
\newcommand{\Un}{\textsf{U}}
\newcommand{\Ln}{\textsf{L}}
\newcommand{\ty}[1]{:_{#1}}
\newcommand{\tL}{:_{\text{L}}}
\newcommand{\tU}{:_{\text{U}}}
\newcommand{\PiR}[3]{\Pi_{#1}({#2}).{#3}}
\newcommand{\PiI}[3]{\Pi_{#1}\{{#2}\}.{#3}}
\newcommand{\lamR}[3]{\lambda_{#1}({#2}).{#3}}
\newcommand{\lamI}[3]{\lambda_{#1}\{{#2}\}.{#3}}
\newcommand{\appR}[2]{{#1}\;{#2}}
\newcommand{\appI}[2]{{#1}\;\{{#2}\}}
\newcommand{\SigR}[3]{\Sigma_{#1}({#2}).{#3}}
\newcommand{\SigI}[3]{\Sigma_{#1}\{{#2}\}.{#3}}
\newcommand{\pairR}[3]{\langle{{#1},{#2}}\rangle_{#3}}
\newcommand{\pairI}[3]{\langle{\{{#1}\},{#2}}\rangle_{#3}}
\newcommand{\SigElim}[3]{\text{R}_{#1}^{\Sigma}({#2},{#3})}
\newcommand{\with}[3]{{{#1}\;\&_{#3}{#2}}}
\newcommand{\apair}[3]{({#1}, {#2})_{#3}}
\newcommand{\projL}[1]{\pi_{1}\,{#1}}
\newcommand{\projR}[1]{\pi_{2}\,{#1}}
\newcommand{\iden}[3]{{#2}=_{#1}{#3}}
\newcommand{\refl}[1]{{\text{refl}\;{#1}}}
\newcommand{\idenElim}[3]{\text{R}_{#1}^{=}({#2},{#3})}
\newcommand{\dotcup}{\ensuremath{\mathbin{\mathaccent\cdot\cup}}}
\newcommand{\val}{\textit{value}}
\newcommand{\model}[1]{\llbracket{#1}\rrbracket}
\newcommand{\lookup}[4]{\textit{lookup}({#1},{#2},{#3},{#4})}
\newcommand{\wrheap}{\textit{wr-heap}}
\newcommand{\FV}[1]{\textit{FV}({#1})}
\newcommand{\nat}{\text{nat}}
\newcommand{\PiType}[1]{\Pi{#1}}
\newcommand{\lamProg}[1]{\lambda{#1}}
\newcommand{\SigType}[1]{\Sigma{#1}}
\newcommand{\fix}[2]{\mu({#1}).{#2}}
\newcommand{\ActP}{\Uparrow}
\newcommand{\ActN}{\Downarrow}
\newcommand{\ActR}[3]{{{#1}({#2}).\ {#3}}}
\newcommand{\ActI}[3]{{{#1}\{{#2}\}.\ {#3}}}
\newcommand{\dual}[1]{(#1)^{\bot}}
\newcommand{\End}{\textbf{\textsf{1}}}
\newcommand{\Ch}[2]{{{#1}\textbf{\textsf{ch}}\langle{#2}\rangle}}
\newcommand{\CH}[1]{{\textbf{\textsf{ch}}\langle{#1}\rangle}}
\newcommand{\HC}[1]{{\textbf{\textsf{hc}}\langle{#1}\rangle}}
\newcommand{\Proto}{\textbf{\textsf{proto}}}
\newcommand{\xor}{\,\text{\string^}\,}
\newcommand{\fork}[2]{\textbf{fork}\,({#1}).{#2}}
\newcommand{\recvI}[1]{\underline{\textbf{recv}}\,{#1}}
\newcommand{\recvR}[1]{\textbf{recv}\,{#1}}
\newcommand{\sendI}[1]{\underline{\textbf{send}}\,{#1}}
\newcommand{\sendR}[1]{\textbf{send}\,{#1}}
\newcommand{\close}[1]{\textbf{close}\,{#1}}
\newcommand{\wait}[1]{\textbf{wait}\,{#1}}
\newcommand{\C}{\mathcal{C}}
\newcommand{\CM}[1]{\mathcal{C}({#1})}
\newcommand{\return}[1]{\textbf{return }{#1}}
\newcommand{\letin}[3]{\textbf{let}\;{#1}\Leftarrow{#2}\textbf{ in }{#3}}
\newcommand{\unit}{\textsf{unit}}
\newcommand{\ii}{{()}}
\newcommand{\proc}[1]{{\langle{#1}\rangle}}
\newcommand{\scope}[2]{{\nu{#1}.{#2}}}
\newcommand{\Match}{\textbf{\textsf{match}}}
\newcommand{\With}{\textbf{\textsf{with}}}
\newcommand{\Inductive}{\textsf{\color{blue}inductive}}
\newcommand{\Def}{\textsf{\color{blue}def}}
\newcommand{\Theorem}{\textsf{\color{blue}theorem}}
\newcommand{\Type}{\textsf{\color{blue}type}}
\newcommand{\Let}{\textsf{\color{eminence}let}}
\newcommand{\In}{\textsf{\color{eminence}in}}
\newcommand{\Send}{\textbf{\textsf{send}}}
\newcommand{\SendI}{\underline{\textbf{\textsf{send}}}}
\newcommand{\Recv}{\textbf{\textsf{recv}}}
\newcommand{\RecvI}{\underline{\textbf{\textsf{recv}}}}
\newcommand{\Close}{\textbf{\textsf{close}}}
\newcommand{\Wait}{\textbf{\textsf{wait}}}
\newcommand{\Fork}{\textbf{\textsf{fork}}}
\newcommand{\Return}{\textsf{\color{eminence}return}}
\newcommand{\Rewrite}{\textbf{\textsf{rewrite}}}

\newcommand{\LogicalAgreeRen}[3]{\textit{logical-agree-ren}({#1},{#2},{#3})}
\newcommand{\LogicalAgreeSubst}[3]{{{#1} \vdash {#2} \dashv {#3}}}
\newcommand{\HeadSim}[2]{\textit{head-sim}({#1},{#2})}
\newcommand{\Sim}[2]{\textit{sim}({#1},{#2})}
\newcommand{\LogicalVal}{\textit{logical-val}}
\newcommand{\ProgramAgreeRen}[5]{\textit{program-agree-ren}({#1},{#2},{#3},{#4},{#5})}
\newcommand{\ProgramAgreeSubst}[5]{{{#1} ; {#2} \vdash {#3} \dashv {#4} ; {#5}}}
\newcommand{\ErasureAgreeSubst}[6]{{{#1} ; {#2} \vdash {#3} \sim {#4} \dashv {#5} ; {#6}}}
\newcommand{\resolved}{\textit{resolved}}
\newcommand{\AgreeResolve}[5]{\textit{agree-resolve}({#1},{#2},{#3},{#4},{#5})}
\newcommand{\Vars}[1]{\textit{Vars}({#1})}
\newcommand{\occurs}[2]{\textit{occurs}_{#1}({#2})}

\makeatletter
\newcommand*{\Leadsto}{\leadsto\joinrel\mathrel{\mathpalette\@Leadsto\relax}}
\newcommand*{\@Leadsto}[2]{%
   \clipbox{{.68\width} 0pt 0pt {-.2\height}}{$\m@th#1\leadsto$}%
}

\makeatletter
\def\subsubsection{\@startsection{subsubsection}{3}%
  \z@{.5\linespacing\@plus.7\linespacing}{.1\linespacing}%
  {\normalfont\itshape}}
\makeatother

%%% Local Variables:
%%% mode: LaTeX
%%% TeX-master: "main"
%%% End:
